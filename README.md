# üòé –û—á–µ–Ω—å –∫—Ä—É—Ç–æ–π –ø–∞–∫–µ—Ç –¥–ª—è VK –Ω–∞ Go

#### `–Ω–∞–≤–µ—Ä–Ω–æ–µ...`

### üíã –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Ç–∞–∫–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö, –∫–∞–∫:
VK sdk (–î–ª—è golang): https://github.com/SevereCloud/vksdk <br/>
VK io (type script): https://github.com/negezor/vk-io <br/>
Telego (telegram + golang): https://github.com/mymmrac/telego

–ú—ã —Å—Ç–∞—Ä–∞–µ–º—Å—è –≤–∑—è—Ç—å –ª—É—á—à–µ–µ –∏–∑ —ç—Ç–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –≤–æ–ø–ª–æ—Ç–∏—Ç—å –≤ –æ–¥–Ω–æ–π!

# ü§© –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

## üòª –£–¥–æ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

–°–æ–∑–¥–∞–π—Ç–µ —Ö–µ–Ω–¥–ª–µ—Ä –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ hear manager'a, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏.
```go
	// making a new handler
	handler := hearManager.NewHandler(func(ctx context.Context, event msgmodel.MessagesNew) {
		params := requests.NewSendParams().
			WithMessage("–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —è –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ —Ç–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ hear manager'–∞!")

		params.WithPeerID(event.Message.PeerID)

		_, err := vk.Api.Messages.Send(params)
		if err != nil {
			log.Fatalln(err)
		}
	})

	// builtin match validators
	handler.WithMatchRules(heargo.WithMatchWord("123"), heargo.WithWordsIn("hello", "hi"))
```

## ‚öíÔ∏è –£–¥–æ–±—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–ó–∞–±—É–¥—å—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π –≤ –≥–æ –∏ —Å –Ω–µ—É–¥–æ–±–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –ü–∞–∫–µ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å —Ç–∞–∫, –∫–∞–∫ –≤—ã —Ö–æ—Ç–∏—Ç–µ
–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º –Ω—É–∂–Ω—ã.

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –¥—Ä—É–≥–æ–π –≤–µ—Ä—Å–∏–µ–π API? –ü–æ–∂–∞–ª—É–π—Å—Ç–∞! 

–•–æ—Ç–∏—Ç–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å longpoll –∏–≤–µ–Ω—Ç—ã —Å–æ —Å–≤–æ–µ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π? –ü—Ä–æ—Å—Ç–æ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∂–µ–Ω–µ—Ä–∏–∫–∞

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –¥–∞—Ç—å –≤–∞–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤:
```go
// –°–∞–º—ã–π –ª–µ–≥–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
params := requests.NewSendParams().
			WithMessage("–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —è –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ —Ç–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ hear manager'–∞!")

params.WithPeerID(event.Message.PeerID)

_, err := vk.Api.Messages.Send(params)
if err != nil {
	log.Fatalln(err)
}

// –î—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
_, err = vk.Api.Messages.Send(api.Params{
    PeerIDsParam: []int{event.Message.PeerID},
	MessageParam: "–ü—Ä–∏–≤–µ—Ç–∏–∫!",
})
if err != nil { 
	log.Fatalln(err)
}

// –ï—â–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç! –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Ç–æ, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –≤ –æ—Ç–≤–µ—Ç
req := api.NewRequest[[]MessagesSendResponse](vk.Api.Api)

res, err := req.Execute("messages.send", params)
if err != nil {
	return nil, err
}

log.Print(res)
```

## üîî –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≤–µ–Ω—Ç–æ–≤

–ú—ã –¥–∞–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ª–µ–≥–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–≤–µ–Ω—Ç—ã –∏–∑–±–µ–≥–∞—è any –¥–ª—è –∏–≤–µ–Ω—Ç–æ–≤.

–ü—Ä–æ—Å—Ç–æ –≤—ã–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é: <br/>
1) `updates.On` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π <br/>
2) `updates.Use` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è middleware –¥–ª—è —Å–æ–±—ã—Ç–∏–π

–ü—Ä–∏–º–µ—Ä:
```go
hearManager := heargo.NewManager(vk)

updates.Use(vk.Updates, "message_new", hearManager.Middleware)

updates.On(vk.Updates, "message_new", func(_ context.Context, msg msgmodel.MessagesNew) {
	params := requests.NewSendParams().
		WithMessage("–ü—Ä–∏–≤–µ—Ç! –Ø –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ —Ç–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å ID: %d", msg.Message.ID)

	params.WithPeerID(222856843)

	_, err := vk.Api.Messages.Send(params)
	if err != nil {
		log.Fatalln(err)
	}
})
```

–í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç—É –Ω—É–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –∏–≤–µ–Ω—Ç–∞? –ù–µ –±–µ–¥–∞, –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å —Å–≤–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É! ~~–ò–ª–∏ –º–∞–ø—É~~

–£—á—Ç–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—è —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–º–∏ :)
```go
updates.On[YourOwnStr](vk.Updates, "message_new", func(_ context.Context, msg YourOwnStr) {
	log.Print("lets play!")
})
```

# üÜò –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä—Å—Ç–≤–æ

–ù–∞—à–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ –∏–º–µ–µ—Ç –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∏–ø–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –µ—Å–ª–∏ –≤–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∫–∞–∫–æ–≥–æ-—Ç–æ –º–µ—Ç–æ–¥–∞, 
—Å–æ–∑–¥–∞–π—Ç–µ issue —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ pull request —Å –≤–≤–µ–¥–µ–Ω–∏–µ–º –æ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞! 

~~Make VK+Go great again...~~