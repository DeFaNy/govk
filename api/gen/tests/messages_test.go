// Code generated by https://github.com/defany/govk. DO NOT EDIT.

package tests

import (
	"github.com/defany/govk/api/gen/models"
	"github.com/defany/govk/api/gen/messages"
	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
	"github.com/defany/govk/vk"
	"testing"
	"encoding/json"
)

func fillRandomlyMessagesAddChatUserRequest(r *requests.MessagesAddChatUserRequest) {
	r.WithChatId(randInt())
	r.WithUserId(randInt())
	r.WithVisibleMessagesCount(randInt())
}

func TestVKMessagesAddChatUserSuccess(t *testing.T) {
	params := requests.NewMessagesAddChatUserRequest()
	fillRandomlyMessagesAddChatUserRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.addChatUser", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesAddChatUser(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesAllowMessagesFromGroupRequest(r *requests.MessagesAllowMessagesFromGroupRequest) {
	r.WithGroupId(randInt())
	r.WithKey(randString())
}

func TestVKMessagesAllowMessagesFromGroupSuccess(t *testing.T) {
	params := requests.NewMessagesAllowMessagesFromGroupRequest()
	fillRandomlyMessagesAllowMessagesFromGroupRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.allowMessagesFromGroup", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesAllowMessagesFromGroup(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesCreateChatRequest(r *requests.MessagesCreateChatRequest) {
	lUserIds := randIntn(maxArrayLength + 1)
	r.WithUserIds(randIntArr(lUserIds))
	r.WithTitle(randString())
	r.WithGroupId(randInt())
}

func TestVKMessagesCreateChatSuccess(t *testing.T) {
	params := requests.NewMessagesCreateChatRequest()
	fillRandomlyMessagesCreateChatRequest(&params)
	var expected models.MessagesCreateChatResponse
	fillRandomlyMessagesCreateChatResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.createChat", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesCreateChat(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesDeleteRequest(r *requests.MessagesDeleteRequest) {
	lMessageIds := randIntn(maxArrayLength + 1)
	r.WithMessageIds(randIntArr(lMessageIds))
	r.WithSpam(randBool())
	r.WithGroupId(randInt())
	r.WithDeleteForAll(randBool())
	r.WithPeerId(randInt())
	lCmids := randIntn(maxArrayLength + 1)
	r.WithCmids(randIntArr(lCmids))
}

func TestVKMessagesDeleteSuccess(t *testing.T) {
	params := requests.NewMessagesDeleteRequest()
	fillRandomlyMessagesDeleteRequest(&params)
	var expected models.MessagesDeleteResponse
	fillRandomlyMessagesDeleteResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.delete", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesDelete(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesDeleteChatPhotoRequest(r *requests.MessagesDeleteChatPhotoRequest) {
	r.WithChatId(randInt())
	r.WithGroupId(randInt())
}

func TestVKMessagesDeleteChatPhotoSuccess(t *testing.T) {
	params := requests.NewMessagesDeleteChatPhotoRequest()
	fillRandomlyMessagesDeleteChatPhotoRequest(&params)
	var expected models.MessagesDeleteChatPhotoResponse
	fillRandomlyMessagesDeleteChatPhotoResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.deleteChatPhoto", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesDeleteChatPhoto(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesDeleteConversationRequest(r *requests.MessagesDeleteConversationRequest) {
	r.WithUserId(randInt())
	r.WithPeerId(randInt())
	r.WithGroupId(randInt())
}

func TestVKMessagesDeleteConversationSuccess(t *testing.T) {
	params := requests.NewMessagesDeleteConversationRequest()
	fillRandomlyMessagesDeleteConversationRequest(&params)
	var expected models.MessagesDeleteConversationResponse
	fillRandomlyMessagesDeleteConversationResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.deleteConversation", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesDeleteConversation(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesDenyMessagesFromGroupRequest(r *requests.MessagesDenyMessagesFromGroupRequest) {
	r.WithGroupId(randInt())
}

func TestVKMessagesDenyMessagesFromGroupSuccess(t *testing.T) {
	params := requests.NewMessagesDenyMessagesFromGroupRequest()
	fillRandomlyMessagesDenyMessagesFromGroupRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.denyMessagesFromGroup", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesDenyMessagesFromGroup(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesEditRequest(r *requests.MessagesEditRequest) {
	r.WithPeerId(randInt())
	r.WithMessage(randString())
	r.WithLat(randFloat())
	r.WithLong(randFloat())
	r.WithAttachment(randString())
	r.WithKeepForwardMessages(randBool())
	r.WithKeepSnippets(randBool())
	r.WithGroupId(randInt())
	r.WithDontParseLinks(randBool())
	r.WithDisableMentions(randBool())
	r.WithMessageId(randInt())
	r.WithConversationMessageId(randInt())
	r.WithTemplate(randString())
	r.WithKeyboard(randString())
}

func TestVKMessagesEditSuccess(t *testing.T) {
	params := requests.NewMessagesEditRequest()
	fillRandomlyMessagesEditRequest(&params)
	var expected models.MessagesEditResponse
	fillRandomlyMessagesEditResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.edit", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesEdit(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesEditChatRequest(r *requests.MessagesEditChatRequest) {
	r.WithChatId(randInt())
	r.WithTitle(randString())
}

func TestVKMessagesEditChatSuccess(t *testing.T) {
	params := requests.NewMessagesEditChatRequest()
	fillRandomlyMessagesEditChatRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.editChat", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesEditChat(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetByConversationMessageIdRequest(r *requests.MessagesGetByConversationMessageIdRequest) {
	r.WithPeerId(randInt())
	lConversationMessageIds := randIntn(maxArrayLength + 1)
	r.WithConversationMessageIds(randIntArr(lConversationMessageIds))
	r.WithExtended(randBool())
	Fields := new([]models.UsersFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithGroupId(randInt())
}

func TestVKMessagesGetByConversationMessageIdSuccess(t *testing.T) {
	params := requests.NewMessagesGetByConversationMessageIdRequest()
	fillRandomlyMessagesGetByConversationMessageIdRequest(&params)
	params.WithExtended(false)
	var expected models.MessagesGetByConversationMessageIdResponse
	fillRandomlyMessagesGetByConversationMessageIdResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getByConversationMessageId", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetByConversationMessageId(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKMessagesGetByConversationMessageIdExtendedSuccess(t *testing.T) {
	params := requests.NewMessagesGetByConversationMessageIdRequest()
	fillRandomlyMessagesGetByConversationMessageIdRequest(&params)
	params.WithExtended(true)
	var expected models.MessagesGetByConversationMessageIdExtendedResponse
	fillRandomlyMessagesGetByConversationMessageIdExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getByConversationMessageId", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetByConversationMessageIdExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetByIdRequest(r *requests.MessagesGetByIdRequest) {
	lMessageIds := randIntn(maxArrayLength + 1)
	r.WithMessageIds(randIntArr(lMessageIds))
	r.WithPreviewLength(randInt())
	r.WithExtended(randBool())
	Fields := new([]models.UsersFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithGroupId(randInt())
}

func TestVKMessagesGetByIdSuccess(t *testing.T) {
	params := requests.NewMessagesGetByIdRequest()
	fillRandomlyMessagesGetByIdRequest(&params)
	params.WithExtended(false)
	var expected models.MessagesGetByIdResponse
	fillRandomlyMessagesGetByIdResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getById", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetById(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKMessagesGetByIdExtendedSuccess(t *testing.T) {
	params := requests.NewMessagesGetByIdRequest()
	fillRandomlyMessagesGetByIdRequest(&params)
	params.WithExtended(true)
	var expected models.MessagesGetByIdExtendedResponse
	fillRandomlyMessagesGetByIdExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getById", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetByIdExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetChatPreviewRequest(r *requests.MessagesGetChatPreviewRequest) {
	r.WithPeerId(randInt())
	r.WithLink(randString())
	Fields := new([]models.UsersFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
}

func TestVKMessagesGetChatPreviewSuccess(t *testing.T) {
	params := requests.NewMessagesGetChatPreviewRequest()
	fillRandomlyMessagesGetChatPreviewRequest(&params)
	var expected models.MessagesGetChatPreviewResponse
	fillRandomlyMessagesGetChatPreviewResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getChatPreview", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetChatPreview(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetConversationMembersRequest(r *requests.MessagesGetConversationMembersRequest) {
	r.WithPeerId(randInt())
	Fields := new([]models.UsersFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithGroupId(randInt())
}

func TestVKMessagesGetConversationMembersSuccess(t *testing.T) {
	params := requests.NewMessagesGetConversationMembersRequest()
	fillRandomlyMessagesGetConversationMembersRequest(&params)
	var expected models.MessagesGetConversationMembersResponse
	fillRandomlyMessagesGetConversationMembersResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getConversationMembers", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetConversationMembers(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetConversationsRequest(r *requests.MessagesGetConversationsRequest) {
	r.WithOffset(randInt())
	r.WithCount(randInt())
	r.WithFilter(randString())
	r.WithExtended(randBool())
	r.WithStartMessageId(randInt())
	Fields := new([]models.BaseUserGroupFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.BaseUserGroupFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyBaseUserGroupFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithGroupId(randInt())
}

func TestVKMessagesGetConversationsSuccess(t *testing.T) {
	params := requests.NewMessagesGetConversationsRequest()
	fillRandomlyMessagesGetConversationsRequest(&params)
	var expected models.MessagesGetConversationsResponse
	fillRandomlyMessagesGetConversationsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getConversations", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetConversations(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetConversationsByIdRequest(r *requests.MessagesGetConversationsByIdRequest) {
	lPeerIds := randIntn(maxArrayLength + 1)
	r.WithPeerIds(randIntArr(lPeerIds))
	r.WithExtended(randBool())
	Fields := new([]models.BaseUserGroupFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.BaseUserGroupFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyBaseUserGroupFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithGroupId(randInt())
}

func TestVKMessagesGetConversationsByIdSuccess(t *testing.T) {
	params := requests.NewMessagesGetConversationsByIdRequest()
	fillRandomlyMessagesGetConversationsByIdRequest(&params)
	params.WithExtended(false)
	var expected models.MessagesGetConversationsByIdResponse
	fillRandomlyMessagesGetConversationsByIdResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getConversationsById", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetConversationsById(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKMessagesGetConversationsByIdExtendedSuccess(t *testing.T) {
	params := requests.NewMessagesGetConversationsByIdRequest()
	fillRandomlyMessagesGetConversationsByIdRequest(&params)
	params.WithExtended(true)
	var expected models.MessagesGetConversationsByIdExtendedResponse
	fillRandomlyMessagesGetConversationsByIdExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getConversationsById", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetConversationsByIdExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetHistoryRequest(r *requests.MessagesGetHistoryRequest) {
	r.WithOffset(randInt())
	r.WithCount(randInt())
	r.WithUserId(randInt())
	r.WithPeerId(randInt())
	r.WithStartMessageId(randInt())
	r.WithRev(randInt())
	r.WithExtended(randBool())
	Fields := new([]models.UsersFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithGroupId(randInt())
}

func TestVKMessagesGetHistorySuccess(t *testing.T) {
	params := requests.NewMessagesGetHistoryRequest()
	fillRandomlyMessagesGetHistoryRequest(&params)
	params.WithExtended(false)
	var expected models.MessagesGetHistoryResponse
	fillRandomlyMessagesGetHistoryResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getHistory", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetHistory(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKMessagesGetHistoryExtendedSuccess(t *testing.T) {
	params := requests.NewMessagesGetHistoryRequest()
	fillRandomlyMessagesGetHistoryRequest(&params)
	params.WithExtended(true)
	var expected models.MessagesGetHistoryExtendedResponse
	fillRandomlyMessagesGetHistoryExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getHistory", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetHistoryExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetHistoryAttachmentsRequest(r *requests.MessagesGetHistoryAttachmentsRequest) {
	r.WithPeerId(randInt())
	r.WithMediaType(randString())
	r.WithStartFrom(randString())
	r.WithCount(randInt())
	r.WithPhotoSizes(randBool())
	Fields := new([]models.UsersFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithGroupId(randInt())
	r.WithPreserveOrder(randBool())
	r.WithMaxForwardsLevel(randInt())
}

func TestVKMessagesGetHistoryAttachmentsSuccess(t *testing.T) {
	params := requests.NewMessagesGetHistoryAttachmentsRequest()
	fillRandomlyMessagesGetHistoryAttachmentsRequest(&params)
	var expected models.MessagesGetHistoryAttachmentsResponse
	fillRandomlyMessagesGetHistoryAttachmentsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getHistoryAttachments", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetHistoryAttachments(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetImportantMessagesRequest(r *requests.MessagesGetImportantMessagesRequest) {
	r.WithCount(randInt())
	r.WithOffset(randInt())
	r.WithStartMessageId(randInt())
	r.WithPreviewLength(randInt())
	Fields := new([]models.BaseUserGroupFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.BaseUserGroupFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyBaseUserGroupFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithExtended(randBool())
	r.WithGroupId(randInt())
}

func TestVKMessagesGetImportantMessagesSuccess(t *testing.T) {
	params := requests.NewMessagesGetImportantMessagesRequest()
	fillRandomlyMessagesGetImportantMessagesRequest(&params)
	params.WithExtended(false)
	var expected models.MessagesGetImportantMessagesResponse
	fillRandomlyMessagesGetImportantMessagesResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getImportantMessages", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetImportantMessages(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKMessagesGetImportantMessagesExtendedSuccess(t *testing.T) {
	params := requests.NewMessagesGetImportantMessagesRequest()
	fillRandomlyMessagesGetImportantMessagesRequest(&params)
	params.WithExtended(true)
	var expected models.MessagesGetImportantMessagesExtendedResponse
	fillRandomlyMessagesGetImportantMessagesExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getImportantMessages", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetImportantMessagesExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetIntentUsersRequest(r *requests.MessagesGetIntentUsersRequest) {
	r.WithIntent(randString())
	r.WithSubscribeId(randInt())
	r.WithOffset(randInt())
	r.WithCount(randInt())
	r.WithExtended(randBool())
	lNameCase := randIntn(maxArrayLength + 1)
	r.WithNameCase(randStringArr(lNameCase))
	lFields := randIntn(maxArrayLength + 1)
	r.WithFields(randStringArr(lFields))
}

func TestVKMessagesGetIntentUsersSuccess(t *testing.T) {
	params := requests.NewMessagesGetIntentUsersRequest()
	fillRandomlyMessagesGetIntentUsersRequest(&params)
	var expected models.MessagesGetIntentUsersResponse
	fillRandomlyMessagesGetIntentUsersResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getIntentUsers", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetIntentUsers(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetInviteLinkRequest(r *requests.MessagesGetInviteLinkRequest) {
	r.WithPeerId(randInt())
	r.WithReset(randBool())
	r.WithGroupId(randInt())
}

func TestVKMessagesGetInviteLinkSuccess(t *testing.T) {
	params := requests.NewMessagesGetInviteLinkRequest()
	fillRandomlyMessagesGetInviteLinkRequest(&params)
	var expected models.MessagesGetInviteLinkResponse
	fillRandomlyMessagesGetInviteLinkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getInviteLink", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetInviteLink(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetLastActivityRequest(r *requests.MessagesGetLastActivityRequest) {
	r.WithUserId(randInt())
}

func TestVKMessagesGetLastActivitySuccess(t *testing.T) {
	params := requests.NewMessagesGetLastActivityRequest()
	fillRandomlyMessagesGetLastActivityRequest(&params)
	var expected models.MessagesGetLastActivityResponse
	fillRandomlyMessagesGetLastActivityResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getLastActivity", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetLastActivity(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetLongPollHistoryRequest(r *requests.MessagesGetLongPollHistoryRequest) {
	r.WithTs(randInt())
	r.WithPts(randInt())
	r.WithPreviewLength(randInt())
	r.WithOnlines(randBool())
	Fields := new([]models.UsersFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithEventsLimit(randInt())
	r.WithMsgsLimit(randInt())
	r.WithMaxMsgId(randInt())
	r.WithGroupId(randInt())
	r.WithLpVersion(randInt())
	r.WithLastN(randInt())
	r.WithCredentials(randBool())
	r.WithExtended(randBool())
}

func TestVKMessagesGetLongPollHistorySuccess(t *testing.T) {
	params := requests.NewMessagesGetLongPollHistoryRequest()
	fillRandomlyMessagesGetLongPollHistoryRequest(&params)
	var expected models.MessagesGetLongPollHistoryResponse
	fillRandomlyMessagesGetLongPollHistoryResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getLongPollHistory", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetLongPollHistory(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesGetLongPollServerRequest(r *requests.MessagesGetLongPollServerRequest) {
	r.WithNeedPts(randBool())
	r.WithGroupId(randInt())
	r.WithLpVersion(randInt())
}

func TestVKMessagesGetLongPollServerSuccess(t *testing.T) {
	params := requests.NewMessagesGetLongPollServerRequest()
	fillRandomlyMessagesGetLongPollServerRequest(&params)
	var expected models.MessagesGetLongPollServerResponse
	fillRandomlyMessagesGetLongPollServerResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.getLongPollServer", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesGetLongPollServer(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesIsMessagesFromGroupAllowedRequest(r *requests.MessagesIsMessagesFromGroupAllowedRequest) {
	r.WithGroupId(randInt())
	r.WithUserId(randInt())
}

func TestVKMessagesIsMessagesFromGroupAllowedSuccess(t *testing.T) {
	params := requests.NewMessagesIsMessagesFromGroupAllowedRequest()
	fillRandomlyMessagesIsMessagesFromGroupAllowedRequest(&params)
	var expected models.MessagesIsMessagesFromGroupAllowedResponse
	fillRandomlyMessagesIsMessagesFromGroupAllowedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.isMessagesFromGroupAllowed", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesIsMessagesFromGroupAllowed(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesJoinChatByInviteLinkRequest(r *requests.MessagesJoinChatByInviteLinkRequest) {
	r.WithLink(randString())
}

func TestVKMessagesJoinChatByInviteLinkSuccess(t *testing.T) {
	params := requests.NewMessagesJoinChatByInviteLinkRequest()
	fillRandomlyMessagesJoinChatByInviteLinkRequest(&params)
	var expected models.MessagesJoinChatByInviteLinkResponse
	fillRandomlyMessagesJoinChatByInviteLinkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.joinChatByInviteLink", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesJoinChatByInviteLink(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesMarkAsAnsweredConversationRequest(r *requests.MessagesMarkAsAnsweredConversationRequest) {
	r.WithPeerId(randInt())
	r.WithAnswered(randBool())
	r.WithGroupId(randInt())
}

func TestVKMessagesMarkAsAnsweredConversationSuccess(t *testing.T) {
	params := requests.NewMessagesMarkAsAnsweredConversationRequest()
	fillRandomlyMessagesMarkAsAnsweredConversationRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.markAsAnsweredConversation", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesMarkAsAnsweredConversation(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesMarkAsImportantRequest(r *requests.MessagesMarkAsImportantRequest) {
	lMessageIds := randIntn(maxArrayLength + 1)
	r.WithMessageIds(randIntArr(lMessageIds))
	r.WithImportant(randInt())
}

func TestVKMessagesMarkAsImportantSuccess(t *testing.T) {
	params := requests.NewMessagesMarkAsImportantRequest()
	fillRandomlyMessagesMarkAsImportantRequest(&params)
	var expected models.MessagesMarkAsImportantResponse
	fillRandomlyMessagesMarkAsImportantResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.markAsImportant", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesMarkAsImportant(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesMarkAsImportantConversationRequest(r *requests.MessagesMarkAsImportantConversationRequest) {
	r.WithPeerId(randInt())
	r.WithImportant(randBool())
	r.WithGroupId(randInt())
}

func TestVKMessagesMarkAsImportantConversationSuccess(t *testing.T) {
	params := requests.NewMessagesMarkAsImportantConversationRequest()
	fillRandomlyMessagesMarkAsImportantConversationRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.markAsImportantConversation", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesMarkAsImportantConversation(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesMarkAsReadRequest(r *requests.MessagesMarkAsReadRequest) {
	lMessageIds := randIntn(maxArrayLength + 1)
	r.WithMessageIds(randIntArr(lMessageIds))
	r.WithPeerId(randInt())
	r.WithStartMessageId(randInt())
	r.WithGroupId(randInt())
	r.WithMarkConversationAsRead(randBool())
}

func TestVKMessagesMarkAsReadSuccess(t *testing.T) {
	params := requests.NewMessagesMarkAsReadRequest()
	fillRandomlyMessagesMarkAsReadRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.markAsRead", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesMarkAsRead(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesPinRequest(r *requests.MessagesPinRequest) {
	r.WithPeerId(randInt())
	r.WithMessageId(randInt())
	r.WithConversationMessageId(randInt())
}

func TestVKMessagesPinSuccess(t *testing.T) {
	params := requests.NewMessagesPinRequest()
	fillRandomlyMessagesPinRequest(&params)
	var expected models.MessagesPinResponse
	fillRandomlyMessagesPinResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.pin", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesPin(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesRemoveChatUserRequest(r *requests.MessagesRemoveChatUserRequest) {
	r.WithChatId(randInt())
	r.WithUserId(randInt())
	r.WithMemberId(randInt())
}

func TestVKMessagesRemoveChatUserSuccess(t *testing.T) {
	params := requests.NewMessagesRemoveChatUserRequest()
	fillRandomlyMessagesRemoveChatUserRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.removeChatUser", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesRemoveChatUser(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesRestoreRequest(r *requests.MessagesRestoreRequest) {
	r.WithMessageId(randInt())
	r.WithGroupId(randInt())
}

func TestVKMessagesRestoreSuccess(t *testing.T) {
	params := requests.NewMessagesRestoreRequest()
	fillRandomlyMessagesRestoreRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.restore", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesRestore(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesSearchRequest(r *requests.MessagesSearchRequest) {
	r.WithQ(randString())
	r.WithPeerId(randInt())
	r.WithDate(randInt())
	r.WithPreviewLength(randInt())
	r.WithOffset(randInt())
	r.WithCount(randInt())
	r.WithExtended(randBool())
	lFields := randIntn(maxArrayLength + 1)
	r.WithFields(randStringArr(lFields))
	r.WithGroupId(randInt())
}

func TestVKMessagesSearchSuccess(t *testing.T) {
	params := requests.NewMessagesSearchRequest()
	fillRandomlyMessagesSearchRequest(&params)
	params.WithExtended(false)
	var expected models.MessagesSearchResponse
	fillRandomlyMessagesSearchResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.search", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSearch(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKMessagesSearchExtendedSuccess(t *testing.T) {
	params := requests.NewMessagesSearchRequest()
	fillRandomlyMessagesSearchRequest(&params)
	params.WithExtended(true)
	var expected models.MessagesSearchExtendedResponse
	fillRandomlyMessagesSearchExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.search", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSearchExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesSearchConversationsRequest(r *requests.MessagesSearchConversationsRequest) {
	r.WithQ(randString())
	r.WithCount(randInt())
	r.WithExtended(randBool())
	Fields := new([]models.UsersFields)
	lFields := randIntn(maxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithGroupId(randInt())
}

func TestVKMessagesSearchConversationsSuccess(t *testing.T) {
	params := requests.NewMessagesSearchConversationsRequest()
	fillRandomlyMessagesSearchConversationsRequest(&params)
	params.WithExtended(false)
	var expected models.MessagesSearchConversationsResponse
	fillRandomlyMessagesSearchConversationsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.searchConversations", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSearchConversations(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKMessagesSearchConversationsExtendedSuccess(t *testing.T) {
	params := requests.NewMessagesSearchConversationsRequest()
	fillRandomlyMessagesSearchConversationsRequest(&params)
	params.WithExtended(true)
	var expected models.MessagesSearchConversationsExtendedResponse
	fillRandomlyMessagesSearchConversationsExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.searchConversations", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSearchConversationsExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesSendRequest(r *requests.MessagesSendRequest) {
	r.WithUserId(randInt())
	r.WithRandomId(randInt())
	r.WithPeerId(randInt())
	lPeerIds := randIntn(maxArrayLength + 1)
	r.WithPeerIds(randIntArr(lPeerIds))
	r.WithDomain(randString())
	r.WithChatId(randInt())
	lUserIds := randIntn(maxArrayLength + 1)
	r.WithUserIds(randIntArr(lUserIds))
	r.WithMessage(randString())
	r.WithLat(randFloat())
	r.WithLong(randFloat())
	r.WithAttachment(randString())
	r.WithReplyTo(randInt())
	lForwardMessages := randIntn(maxArrayLength + 1)
	r.WithForwardMessages(randIntArr(lForwardMessages))
	Forward := new(models.MessagesForward)
	fillRandomlyMessagesForward(Forward)
	r.WithForward(*Forward)
	r.WithStickerId(randInt())
	r.WithGroupId(randInt())
	Keyboard := new(models.MessagesKeyboard)
	fillRandomlyMessagesKeyboard(Keyboard)
	r.WithKeyboard(*Keyboard)
	r.WithTemplate(randString())
	r.WithPayload(randString())
	r.WithContentSource(randString())
	r.WithDontParseLinks(randBool())
	r.WithDisableMentions(randBool())
	r.WithIntent(randString())
	r.WithSubscribeId(randInt())
}

func TestVKMessagesSendSuccess(t *testing.T) {
	params := requests.NewMessagesSendRequest()
	fillRandomlyMessagesSendRequest(&params)
	var expected models.MessagesSendResponse
	fillRandomlyMessagesSendResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.send", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSend(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesSendUserIDsRequest(r *requests.MessagesSendUserIDsRequest) {
	r.WithUserId(randInt())
	r.WithRandomId(randInt())
	r.WithPeerId(randInt())
	lPeerIds := randIntn(maxArrayLength + 1)
	r.WithPeerIds(randIntArr(lPeerIds))
	r.WithDomain(randString())
	r.WithChatId(randInt())
	lUserIds := randIntn(maxArrayLength + 1)
	r.WithUserIds(randIntArr(lUserIds))
	r.WithMessage(randString())
	r.WithLat(randFloat())
	r.WithLong(randFloat())
	r.WithAttachment(randString())
	r.WithReplyTo(randInt())
	lForwardMessages := randIntn(maxArrayLength + 1)
	r.WithForwardMessages(randIntArr(lForwardMessages))
	Forward := new(models.MessagesForward)
	fillRandomlyMessagesForward(Forward)
	r.WithForward(*Forward)
	r.WithStickerId(randInt())
	r.WithGroupId(randInt())
	Keyboard := new(models.MessagesKeyboard)
	fillRandomlyMessagesKeyboard(Keyboard)
	r.WithKeyboard(*Keyboard)
	r.WithTemplate(randString())
	r.WithPayload(randString())
	r.WithContentSource(randString())
	r.WithDontParseLinks(randBool())
	r.WithDisableMentions(randBool())
	r.WithIntent(randString())
	r.WithSubscribeId(randInt())
}

func TestVKMessagesSendUserIDsSuccess(t *testing.T) {
	params := requests.NewMessagesSendUserIDsRequest()
	fillRandomlyMessagesSendUserIDsRequest(&params)
	var expected models.MessagesSendUserIdsResponse
	fillRandomlyMessagesSendUserIdsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.send", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSendUserIDs(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesSendMessageEventAnswerRequest(r *requests.MessagesSendMessageEventAnswerRequest) {
	r.WithEventId(randString())
	r.WithUserId(randInt())
	r.WithPeerId(randInt())
	r.WithEventData(randString())
}

func TestVKMessagesSendMessageEventAnswerSuccess(t *testing.T) {
	params := requests.NewMessagesSendMessageEventAnswerRequest()
	fillRandomlyMessagesSendMessageEventAnswerRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.sendMessageEventAnswer", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSendMessageEventAnswer(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesSetActivityRequest(r *requests.MessagesSetActivityRequest) {
	r.WithUserId(randInt())
	r.WithType(randString())
	r.WithPeerId(randInt())
	r.WithGroupId(randInt())
}

func TestVKMessagesSetActivitySuccess(t *testing.T) {
	params := requests.NewMessagesSetActivityRequest()
	fillRandomlyMessagesSetActivityRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.setActivity", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSetActivity(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesSetChatPhotoRequest(r *requests.MessagesSetChatPhotoRequest) {
	r.WithFile(randString())
}

func TestVKMessagesSetChatPhotoSuccess(t *testing.T) {
	params := requests.NewMessagesSetChatPhotoRequest()
	fillRandomlyMessagesSetChatPhotoRequest(&params)
	var expected models.MessagesSetChatPhotoResponse
	fillRandomlyMessagesSetChatPhotoResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.setChatPhoto", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesSetChatPhoto(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyMessagesUnpinRequest(r *requests.MessagesUnpinRequest) {
	r.WithPeerId(randInt())
	r.WithGroupId(randInt())
}

func TestVKMessagesUnpinSuccess(t *testing.T) {
	params := requests.NewMessagesUnpinRequest()
	fillRandomlyMessagesUnpinRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := randString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "messages.unpin", params.Params(), expectedJSON))
	resp, err := vk.Api.Messages.MessagesUnpin(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

