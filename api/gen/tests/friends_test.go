// Code generated by https://github.com/defany/govk. DO NOT EDIT.

package tests

import (
	"encoding/json"
	"github.com/defany/govk/api/gen/friends"
	"github.com/defany/govk/api/gen/models"
	"github.com/defany/govk/pkg/random"
	"github.com/defany/govk/vk"
	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
	"testing"
)

func fillRandomlyFriendsAddRequest(r *requests.FriendsAddRequest) {
	r.WithUserId(random.RandInt())
	r.WithText(random.RandString())
	r.WithFollow(random.RandBool())
}

func TestVKFriendsAddSuccess(t *testing.T) {
	params := requests.NewFriendsAddRequest()
	fillRandomlyFriendsAddRequest(&params)
	var expected models.FriendsAddResponse
	fillRandomlyFriendsAddResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.add", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsAdd(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsAddListRequest(r *requests.FriendsAddListRequest) {
	r.WithName(random.RandString())
	lUserIds := random.RandIntn(random.MaxArrayLength + 1)
	r.WithUserIds(random.RandIntArr(lUserIds))
}

func TestVKFriendsAddListSuccess(t *testing.T) {
	params := requests.NewFriendsAddListRequest()
	fillRandomlyFriendsAddListRequest(&params)
	var expected models.FriendsAddListResponse
	fillRandomlyFriendsAddListResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.addList", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsAddList(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsAreFriendsRequest(r *requests.FriendsAreFriendsRequest) {
	lUserIds := random.RandIntn(random.MaxArrayLength + 1)
	r.WithUserIds(random.RandIntArr(lUserIds))
	r.WithNeedSign(random.RandBool())
	r.WithExtended(random.RandBool())
}

func TestVKFriendsAreFriendsSuccess(t *testing.T) {
	params := requests.NewFriendsAreFriendsRequest()
	fillRandomlyFriendsAreFriendsRequest(&params)
	params.WithExtended(false)
	var expected models.FriendsAreFriendsResponse
	fillRandomlyFriendsAreFriendsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.areFriends", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsAreFriends(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKFriendsAreFriendsExtendedSuccess(t *testing.T) {
	params := requests.NewFriendsAreFriendsRequest()
	fillRandomlyFriendsAreFriendsRequest(&params)
	params.WithExtended(true)
	var expected models.FriendsAreFriendsExtendedResponse
	fillRandomlyFriendsAreFriendsExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.areFriends", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsAreFriendsExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsDeleteRequest(r *requests.FriendsDeleteRequest) {
	r.WithUserId(random.RandInt())
}

func TestVKFriendsDeleteSuccess(t *testing.T) {
	params := requests.NewFriendsDeleteRequest()
	fillRandomlyFriendsDeleteRequest(&params)
	var expected models.FriendsDeleteResponse
	fillRandomlyFriendsDeleteResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.delete", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsDelete(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKFriendsDeleteAllRequestsSuccess(t *testing.T) {
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.deleteAllRequests", nil, expectedJSON))
	resp, err := vk.Api.Friends.FriendsDeleteAllRequests()
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsDeleteListRequest(r *requests.FriendsDeleteListRequest) {
	r.WithListId(random.RandInt())
}

func TestVKFriendsDeleteListSuccess(t *testing.T) {
	params := requests.NewFriendsDeleteListRequest()
	fillRandomlyFriendsDeleteListRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.deleteList", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsDeleteList(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsEditRequest(r *requests.FriendsEditRequest) {
	r.WithUserId(random.RandInt())
	lListIds := random.RandIntn(random.MaxArrayLength + 1)
	r.WithListIds(random.RandIntArr(lListIds))
}

func TestVKFriendsEditSuccess(t *testing.T) {
	params := requests.NewFriendsEditRequest()
	fillRandomlyFriendsEditRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.edit", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsEdit(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsEditListRequest(r *requests.FriendsEditListRequest) {
	r.WithName(random.RandString())
	r.WithListId(random.RandInt())
	lUserIds := random.RandIntn(random.MaxArrayLength + 1)
	r.WithUserIds(random.RandIntArr(lUserIds))
	lAddUserIds := random.RandIntn(random.MaxArrayLength + 1)
	r.WithAddUserIds(random.RandIntArr(lAddUserIds))
	lDeleteUserIds := random.RandIntn(random.MaxArrayLength + 1)
	r.WithDeleteUserIds(random.RandIntArr(lDeleteUserIds))
}

func TestVKFriendsEditListSuccess(t *testing.T) {
	params := requests.NewFriendsEditListRequest()
	fillRandomlyFriendsEditListRequest(&params)
	var expected models.BaseOkResponse
	fillRandomlyBaseOkResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.editList", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsEditList(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetRequest(r *requests.FriendsGetRequest) {
	r.WithUserId(random.RandInt())
	r.WithOrder(random.RandString())
	r.WithListId(random.RandInt())
	r.WithCount(random.RandInt())
	r.WithOffset(random.RandInt())
	Fields := new([]models.UsersFields)
	lFields := random.RandIntn(random.MaxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithNameCase(random.RandString())
	r.WithRef(random.RandString())
}

func TestVKFriendsGetSuccess(t *testing.T) {
	params := requests.NewFriendsGetRequest()
	fillRandomlyFriendsGetRequest(&params)
	var expected models.FriendsGetResponse
	fillRandomlyFriendsGetResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.get", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGet(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKFriendsGetAppUsersSuccess(t *testing.T) {
	var expected models.FriendsGetAppUsersResponse
	fillRandomlyFriendsGetAppUsersResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getAppUsers", nil, expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetAppUsers()
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetByPhonesRequest(r *requests.FriendsGetByPhonesRequest) {
	lPhones := random.RandIntn(random.MaxArrayLength + 1)
	r.WithPhones(random.RandStringArr(lPhones))
	Fields := new([]models.UsersFields)
	lFields := random.RandIntn(random.MaxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
}

func TestVKFriendsGetByPhonesSuccess(t *testing.T) {
	params := requests.NewFriendsGetByPhonesRequest()
	fillRandomlyFriendsGetByPhonesRequest(&params)
	var expected models.FriendsGetByPhonesResponse
	fillRandomlyFriendsGetByPhonesResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getByPhones", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetByPhones(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetListsRequest(r *requests.FriendsGetListsRequest) {
	r.WithUserId(random.RandInt())
	r.WithReturnSystem(random.RandBool())
}

func TestVKFriendsGetListsSuccess(t *testing.T) {
	params := requests.NewFriendsGetListsRequest()
	fillRandomlyFriendsGetListsRequest(&params)
	var expected models.FriendsGetListsResponse
	fillRandomlyFriendsGetListsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getLists", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetLists(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetMutualRequest(r *requests.FriendsGetMutualRequest) {
	r.WithSourceUid(random.RandInt())
	r.WithTargetUid(random.RandInt())
	lTargetUids := random.RandIntn(random.MaxArrayLength + 1)
	r.WithTargetUids(random.RandIntArr(lTargetUids))
	r.WithOrder(random.RandString())
	r.WithCount(random.RandInt())
	r.WithOffset(random.RandInt())
}

func TestVKFriendsGetMutualSuccess(t *testing.T) {
	params := requests.NewFriendsGetMutualRequest()
	fillRandomlyFriendsGetMutualRequest(&params)
	var expected models.FriendsGetMutualResponse
	fillRandomlyFriendsGetMutualResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getMutual", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetMutual(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetMutualTargetUIDsRequest(r *requests.FriendsGetMutualTargetUIDsRequest) {
	r.WithSourceUid(random.RandInt())
	r.WithTargetUid(random.RandInt())
	lTargetUids := random.RandIntn(random.MaxArrayLength + 1)
	r.WithTargetUids(random.RandIntArr(lTargetUids))
	r.WithOrder(random.RandString())
	r.WithCount(random.RandInt())
	r.WithOffset(random.RandInt())
}

func TestVKFriendsGetMutualTargetUIDsSuccess(t *testing.T) {
	params := requests.NewFriendsGetMutualTargetUIDsRequest()
	fillRandomlyFriendsGetMutualTargetUIDsRequest(&params)
	var expected models.FriendsGetMutualTargetUidsResponse
	fillRandomlyFriendsGetMutualTargetUidsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getMutual", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetMutualTargetUIDs(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetOnlineRequest(r *requests.FriendsGetOnlineRequest) {
	r.WithUserId(random.RandInt())
	r.WithListId(random.RandInt())
	r.WithOnlineMobile(random.RandBool())
	r.WithOrder(random.RandString())
	r.WithCount(random.RandInt())
	r.WithOffset(random.RandInt())
}

func TestVKFriendsGetOnlineSuccess(t *testing.T) {
	params := requests.NewFriendsGetOnlineRequest()
	fillRandomlyFriendsGetOnlineRequest(&params)
	params.WithOnlineMobile(false)
	var expected models.FriendsGetOnlineResponse
	fillRandomlyFriendsGetOnlineResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getOnline", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetOnline(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKFriendsGetOnlineOnlineMobileSuccess(t *testing.T) {
	params := requests.NewFriendsGetOnlineRequest()
	fillRandomlyFriendsGetOnlineRequest(&params)
	params.WithOnlineMobile(true)
	var expected models.FriendsGetOnlineOnlineMobileResponse
	fillRandomlyFriendsGetOnlineOnlineMobileResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getOnline", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetOnlineOnlineMobile(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetRecentRequest(r *requests.FriendsGetRecentRequest) {
	r.WithCount(random.RandInt())
}

func TestVKFriendsGetRecentSuccess(t *testing.T) {
	params := requests.NewFriendsGetRecentRequest()
	fillRandomlyFriendsGetRecentRequest(&params)
	var expected models.FriendsGetRecentResponse
	fillRandomlyFriendsGetRecentResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getRecent", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetRecent(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetRequestsRequest(r *requests.FriendsGetRequestsRequest) {
	r.WithOffset(random.RandInt())
	r.WithCount(random.RandInt())
	r.WithExtended(random.RandBool())
	r.WithNeedMutual(random.RandBool())
	r.WithOut(random.RandBool())
	r.WithSort(random.RandInt())
	r.WithNeedViewed(random.RandBool())
	r.WithSuggested(random.RandBool())
	r.WithRef(random.RandString())
	Fields := new([]models.UsersFields)
	lFields := random.RandIntn(random.MaxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
}

func TestVKFriendsGetRequestsSuccess(t *testing.T) {
	params := requests.NewFriendsGetRequestsRequest()
	fillRandomlyFriendsGetRequestsRequest(&params)
	params.WithExtended(false)
	var expected models.FriendsGetRequestsResponse
	fillRandomlyFriendsGetRequestsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getRequests", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetRequests(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func TestVKFriendsGetRequestsExtendedSuccess(t *testing.T) {
	params := requests.NewFriendsGetRequestsRequest()
	fillRandomlyFriendsGetRequestsRequest(&params)
	params.WithExtended(true)
	var expected models.FriendsGetRequestsExtendedResponse
	fillRandomlyFriendsGetRequestsExtendedResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getRequests", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetRequestsExtended(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsGetSuggestionsRequest(r *requests.FriendsGetSuggestionsRequest) {
	lFilter := random.RandIntn(random.MaxArrayLength + 1)
	r.WithFilter(random.RandStringArr(lFilter))
	r.WithCount(random.RandInt())
	r.WithOffset(random.RandInt())
	Fields := new([]models.UsersFields)
	lFields := random.RandIntn(random.MaxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithNameCase(random.RandString())
}

func TestVKFriendsGetSuggestionsSuccess(t *testing.T) {
	params := requests.NewFriendsGetSuggestionsRequest()
	fillRandomlyFriendsGetSuggestionsRequest(&params)
	var expected models.FriendsGetSuggestionsResponse
	fillRandomlyFriendsGetSuggestionsResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.getSuggestions", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsGetSuggestions(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}

func fillRandomlyFriendsSearchRequest(r *requests.FriendsSearchRequest) {
	r.WithUserId(random.RandInt())
	r.WithQ(random.RandString())
	Fields := new([]models.UsersFields)
	lFields := random.RandIntn(random.MaxArrayLength + 1)
	*Fields = make([]models.UsersFields, lFields)
	for i0 := 0; i0 < lFields; i0++ {
		fillRandomlyUsersFields(&(*Fields)[i0])
	}
	r.WithFields(*Fields)
	r.WithNameCase(random.RandString())
	r.WithOffset(random.RandInt())
	r.WithCount(random.RandInt())
}

func TestVKFriendsSearchSuccess(t *testing.T) {
	params := requests.NewFriendsSearchRequest()
	fillRandomlyFriendsSearchRequest(&params)
	var expected models.FriendsSearchResponse
	fillRandomlyFriendsSearchResponse(&expected)
	expectedJSON, err := json.Marshal(expected)
	require.NoError(t, err)
	token := random.RandString()
	vk, err := govk.NewVK(token)
	assert.NoError(t, err)
	vk.Api.WithHTTP(NewTestClient(t, "friends.search", params.Params(), expectedJSON))
	resp, err := vk.Api.Friends.FriendsSearch(params)
	assert.EqualValues(t, expected, resp)
	assert.NoError(t, err)
}
